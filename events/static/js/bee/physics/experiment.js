class Experiment {

    constructor(name = 'unkown') {
        this.name = name; // name is same as in larsoft
        this.tpc = {
            location: [ // array of TPC locations in cm: [xmin, xmax, ymin, ymax, zmin, zmax]
                [0, 0, 0, 0, 0, 0.]
            ],
            viewAngle: [-60, 60, 0], // angle in degrees w.r.t vertical 
            halfxyz: [0, 0, 0],
            center: [0, 0, 0],
            boxROI: [0, 0, 0, 0, 0, 0], // box of interest, e.g. near the beam
            driftVelocity: 0.16, // cm/us
        };
        this.daq = {
            timeBeforeTrigger: 500 * 0.5, // us
            timeAfterTrigger: 5500 * 0.5, // us        
        };
        this.beam = {
            dir: null,
            center: null,
        };
        this.op = {
            location: {}, // optical detector location {id: [x, y, z]}
            nDet: 0,
            beamTimeMin: 2,  // time window for beam flash, (us) 
            beamTimeMax: 6,
            numiTimeMin: 4,  // time window for NUMI beam flash, (us) 
            numiTimeMax: 18,
        };
        this.camera = {
            depth: 2000
        }
    }

    nTPC() { return this.tpc.location.length; }
    toString() { return `${this.name}`; }

    updateTPCLocation(loc) {
        this.tpc.location = loc;
        this.updateDimensions(0, this.nTPC() - 1);
    }

    updateBoxROI(loc) {
        this.tpc.boxROI = loc;
    }

    updateDimensions(first, last) {
        this.tpc.halfxyz[0] = (this.tpc.location[last][1] - this.tpc.location[first][0]) / 2;
        this.tpc.halfxyz[1] = (this.tpc.location[last][3] - this.tpc.location[first][2]) / 2;
        this.tpc.halfxyz[2] = (this.tpc.location[last][5] - this.tpc.location[first][4]) / 2;
        this.tpc.center[0] = (this.tpc.location[last][1] + this.tpc.location[first][0]) / 2;
        this.tpc.center[1] = (this.tpc.location[last][3] + this.tpc.location[first][2]) / 2;
        this.tpc.center[2] = (this.tpc.location[last][5] + this.tpc.location[first][4]) / 2;
    }

    updateOPLocation(loc, size) {
        this.op.location = loc;
        this.op.nDet = size;
    }

    toLocalXYZ(x, y, z) { // global (larsoft) coordinate to local (bee) coordinate
        return [
            x - this.tpc.center[0],
            y - this.tpc.center[1],
            z - this.tpc.center[2],
        ];
    }

    toGlobalXYZ(x, y, z) { // local (bee) coordinate to global (larsoft) coordinate
        return [
            x + this.tpc.center[0],
            y + this.tpc.center[1],
            z + this.tpc.center[2],
        ];
    }

}


// --------------------------------------------------------
class MicroBooNE extends Experiment {

    constructor() {
        super('uboone');
        this.updateTPCLocation([
            [0., 256., -115.51, 117.45, 0., 1036.96]
        ]);
        this.tpc.viewAngle = [-60, 60, 0];
        this.tpc.driftVelocity = 0.1101; // cm/us
        this.daq.timeBeforeTrigger = (3200 + 10) * 0.5; //us
        this.daq.timeAfterTrigger = (6400 - 10) * 0.5; //us
        this.updateOPLocation({
            4: [2.645, -28.625, 990.356],
            2: [2.682, 27.607, 989.712],
            5: [2.324, -56.514, 951.865],
            0: [2.458, 55.313, 951.861],
            6: [2.041, -56.309, 911.939],
            1: [2.265, 55.822, 911.066],
            3: [1.923, -0.722, 865.598],
            9: [1.795, -0.502, 796.208],
            11: [1.495, -56.284, 751.905],
            7: [1.559, 55.625, 751.884],
            12: [1.487, -56.408, 711.274],
            8: [1.438, 55.8, 711.073],
            10: [1.475, -0.051, 664.203],
            15: [1.448, -0.549, 585.284],
            13: [1.226, 55.822, 540.929],
            17: [1.479, -56.205, 540.616],
            18: [1.505, -56.323, 500.221],
            14: [1.116, 55.771, 500.134],
            16: [1.481, -0.875, 453.096],
            21: [1.014, -0.706, 373.839],
            23: [1.451, -57.022, 328.341],
            19: [0.913, 54.693, 328.212],
            20: [0.682, 54.646, 287.976],
            24: [1.092, -56.261, 287.639],
            22: [0.949, -0.829, 242.014],
            28: [0.658, -0.303, 173.743],
            25: [0.703, 55.249, 128.355],
            30: [0.821, -56.203, 128.179],
            31: [0.862, -56.615, 87.8695],
            26: [0.558, 55.249, 87.7605],
            27: [0.665, 27.431, 51.1015],
            29: [0.947, -28.576, 50.4745]
        }, 32);
    }

}

// --------------------------------------------------------
class ProtoDUNE extends Experiment {

    constructor() {
        super('protodune');
        this.updateTPCLocation([
            [-380.434, -367.504, 0.0, 607.499, -0.49375, 231.166],
            [-359.884, -0.008, 0.0, 607.499, -0.49375, 231.166],
            [0.008, 359.884, 0.0, 607.499, -0.49375, 231.166],
            [367.504, 380.434, 0.0, 607.499, -0.49375, 231.166],
            [-380.434, -367.504, 0.0, 607.499, 231.566, 463.226],
            [-359.884, -0.008, 0.0, 607.499, 231.566, 463.226],
            [0.008, 359.884, 0.0, 607.499, 231.566, 463.226],
            [367.504, 380.434, 0.0, 607.499, 231.566, 463.226],
            [-380.434, -367.504, 0.0, 607.499, 463.626, 695.286],
            [-359.884, -0.008, 0.0, 607.499, 463.626, 695.286],
            [0.008, 359.884, 0.0, 607.499, 463.626, 695.286],
            [367.504, 380.434, 0.0, 607.499, 463.626, 695.286]
        ]);
        this.tpc.viewAngle = [-35.7, 35.7, 0];
        this.updateBoxROI([-200, 0, 250, 500, 0, 500]);
        this.tpc.driftVelocity = 0.16; // cm/us
        this.daq.timeBeforeTrigger = 500 * 0.5; //us
        this.daq.timeAfterTrigger = 5500 * 0.5; //us
        this.beam.dir = [-0.178177, -0.196387, 0.959408];
        this.beam.center = [-27.173, 421.445, 0];

        this.daq.triggerMap = {
            '12': 'Beam',
            '13': 'CRT',
            '8': 'Random'
        };
        this.daq.momentumMap = {
            '5762': '2 GeV',
            '5145': '7 GeV',
            '5387': '1 GeV',
            '5432': '2 GeV',
            '5770': '6 GeV',
            '5786': '3 GeV',
            '5826': '0.5 GeV',
            '5834': '0.3 GeV'
        };
        this.camera.depth = 3000;

        this.updateOPLocation({
             0: [363.075,  568.292,  579.456],
             1: [363.075,  509.092,  579.456],
             2: [363.075,  449.892,  579.456],
             3: [363.075,  390.692,  579.456],
             4: [363.075,  331.492,  579.456],
             5: [363.075,  272.292,  579.456],
             6: [363.075,  213.092,  579.456],
             7: [363.075,  153.892,  579.456],
             8: [363.075,  94.692,  579.456],
             9: [363.075,  35.492,  579.456],
            10: [363.075,  568.292,  347.396],
            11: [363.075,  509.092,  347.396],
            12: [363.075,  449.892,  347.396],
            13: [363.075,  390.692,  347.396],
            14: [363.075,  331.492,  347.396],
            15: [363.075,  213.092,  347.396],
            16: [363.075,  153.892,  347.396],
            17: [363.075,  94.692,  347.396],
            18: [363.075,  35.492,  347.396],
            19: [363.075,  568.292,  115.336],
            20: [363.075,  509.092,  115.336],
            21: [363.075,  449.892,  115.336],
            22: [363.075,  390.692,  115.336],
            23: [363.075,  331.492,  115.336],
            24: [363.075,  272.292,  115.336],
            25: [363.075,  213.092,  115.336],
            26: [363.075,  153.892,  115.336],
            27: [363.075,  94.692,  115.336],
            28: [363.075,  35.492,  115.336],
            61: [-363.075, 568.292,  579.456],
            62: [-363.075, 509.092,  579.456],
            63: [-363.075, 449.892,  579.456],
            64: [-363.075, 390.692,  579.456],
            65: [-363.075, 331.492,  579.456],
            66: [-363.075, 272.292,  579.456],
            67: [-363.075, 213.092,  579.456],
            68: [-363.075, 153.892,  579.456],
            69: [-363.075, 94.692,  579.456],
            70: [-363.075, 35.492,  579.456],
            71: [-363.075, 568.292,  347.396],
            72: [-363.075, 509.092,  347.396],
            73: [-363.075, 449.892,  347.396],
            74: [-363.075, 390.692,  347.396],
            75: [-363.075, 331.492,  347.396],
            76: [-363.075, 272.292,  347.396],
            77: [-363.075, 213.092,  347.396],
            78: [-363.075, 153.892,  347.396],
            79: [-363.075, 94.692,  347.396],
            80: [-363.075, 35.492,  347.396],
            81: [-363.075, 568.292,  115.336],
            82: [-363.075, 509.092,  115.336],
            83: [-363.075, 449.892,  115.336],
            84: [-363.075, 331.492,  115.336],
            85: [-363.075, 272.292,  115.336],
            86: [-363.075, 213.092,  115.336],
            87: [-363.075, 153.892,  115.336],
            88: [-363.075, 94.692,  115.336],
            89: [-363.075, 35.492,  115.336],
            // arapuca bar
            29:  [362.335, 272.292, 423.696], 
            31:  [362.335, 272.292, 403.296], 
            33:  [362.335, 272.292, 382.896], 
            35:  [362.335, 272.292, 362.496], 
            37:  [362.335, 272.292, 337.396], 
            38:  [362.335, 272.292, 327.196],  
            39:  [362.335, 272.292, 316.996], 
            40:  [362.335, 272.292, 306.796], 
            41:  [362.335, 272.292, 296.596], 
            42:  [362.335, 272.292, 286.396], 
            43:  [362.335, 272.292, 276.196], 
            44:  [362.335, 272.292, 265.996],
            45:  [-362.335, 390.692, 191.636],
            47:  [-362.335, 390.692, 171.236], 
            49:  [-362.335, 390.692, 150.836], 
            51:  [-362.335, 390.692, 130.436], 
            53:  [-362.335, 390.692, 105.336], 
            54:  [-362.335, 390.692, 95.1363], 
            55:  [-362.335, 390.692, 84.9362], 
            56:  [-362.335, 390.692, 74.7362], 
            57:  [-362.335, 390.692, 64.5362], 
            58:  [-362.335, 390.692, 54.3363], 
            59:  [-362.335, 390.692, 44.1363], 
            60:  [-362.335, 390.692, 33.9362]
        }, 90);
    }

}

// --------------------------------------------------------
class ICARUS extends Experiment {

    constructor() {
        super('icarus');
        this.updateTPCLocation([
            [-369.06, -220.86, -181.86, 134.96, -894.951, 894.951],
            [-219.57, -71.37, -181.86, 134.96, -894.951, 894.951],
            [71.37, 219.57, -181.86, 134.96, -894.951, 894.951],
            [220.86, 369.06, -181.86, 134.96, -894.951, 894.951],
        ]);
        this.tpc.viewAngle = [90, 30, -30];
        // this.tpc.driftVelocity = 0.16; // cm/us
        // this.daq.timeBeforeTrigger = 500*0.5; //us
        // this.daq.timeAfterTrigger = 5500*0.5; //us

        this.camera.depth = 3000;

        this.updateOPLocation({
            0: [-59.36, 29.35, 872.9],
            1: [-381.07, 29.35, 872.9],
            2: [-59.36, -76.25, 872.9],
            3: [-381.07, -76.25, 872.9],
            4: [-59.36, 82.15, 823.02],
            5: [-381.07, 82.15, 823.02],
            6: [-59.36, -23.45, 823.02],
            7: [-381.07, -23.45, 823.02],
            8: [-59.36, -129.05, 823.02],
            9: [-381.07, -129.05, 823.02],
            10: [-59.36, 82.15, 773.14],
            11: [-381.07, 82.15, 773.14],
            12: [-59.36, -23.45, 773.14],
            13: [-381.07, -23.45, 773.14],
            14: [-59.36, -129.05, 773.14],
            15: [-381.07, -129.05, 773.14],
            16: [-59.36, 29.35, 723.26],
            17: [-381.07, 29.35, 723.26],
            18: [-59.36, -76.25, 723.26],
            19: [-381.07, -76.25, 723.26],
            20: [-59.36, 29.35, 673.38],
            21: [-381.07, 29.35, 673.38],
            22: [-59.36, -76.25, 673.38],
            23: [-381.07, -76.25, 673.38],
            24: [-59.36, 82.15, 623.5],
            25: [-381.07, 82.15, 623.5],
            26: [-59.36, -23.45, 623.5],
            27: [-381.07, -23.45, 623.5],
            28: [-59.36, -129.05, 623.5],
            29: [-381.07, -129.05, 623.5],
            30: [-59.36, 82.15, 573.62],
            31: [-381.07, 82.15, 573.62],
            32: [-59.36, -23.45, 573.62],
            33: [-381.07, -23.45, 573.62],
            34: [-59.36, -129.05, 573.62],
            35: [-381.07, -129.05, 573.62],
            36: [-59.36, 29.35, 523.74],
            37: [-381.07, 29.35, 523.74],
            38: [-59.36, -76.25, 523.74],
            39: [-381.07, -76.25, 523.74],
            40: [-59.36, 29.35, 473.86],
            41: [-381.07, 29.35, 473.86],
            42: [-59.36, -76.25, 473.86],
            43: [-381.07, -76.25, 473.86],
            44: [-59.36, 82.15, 423.98],
            45: [-381.07, 82.15, 423.98],
            46: [-59.36, -23.45, 423.98],
            47: [-381.07, -23.45, 423.98],
            48: [-59.36, -129.05, 423.98],
            49: [-381.07, -129.05, 423.98],
            50: [-59.36, 82.15, 374.1],
            51: [-381.07, 82.15, 374.1],
            52: [-59.36, -23.45, 374.1],
            53: [-381.07, -23.45, 374.1],
            54: [-59.36, -129.05, 374.1],
            55: [-381.07, -129.05, 374.1],
            56: [-59.36, 29.35, 324.22],
            57: [-381.07, 29.35, 324.22],
            58: [-59.36, -76.25, 324.22],
            59: [-381.07, -76.25, 324.22],
            60: [-59.36, 29.35, 274.34],
            61: [-381.07, 29.35, 274.34],
            62: [-59.36, -76.25, 274.34],
            63: [-381.07, -76.25, 274.34],
            64: [-59.36, 82.15, 224.46],
            65: [-381.07, 82.15, 224.46],
            66: [-59.36, -23.45, 224.46],
            67: [-381.07, -23.45, 224.46],
            68: [-59.36, -129.05, 224.46],
            69: [-381.07, -129.05, 224.46],
            70: [-59.36, 82.15, 174.58],
            71: [-381.07, 82.15, 174.58],
            72: [-59.36, -23.45, 174.58],
            73: [-381.07, -23.45, 174.58],
            74: [-59.36, -129.05, 174.58],
            75: [-381.07, -129.05, 174.58],
            76: [-59.36, 29.35, 124.7],
            77: [-381.07, 29.35, 124.7],
            78: [-59.36, -76.25, 124.7],
            79: [-381.07, -76.25, 124.7],
            80: [-59.36, 29.35, 74.82],
            81: [-381.07, 29.35, 74.82],
            82: [-59.36, -76.25, 74.82],
            83: [-381.07, -76.25, 74.82],
            84: [-59.36, 82.15, 24.94],
            85: [-381.07, 82.15, 24.94],
            86: [-59.36, -23.45, 24.94],
            87: [-381.07, -23.45, 24.94],
            88: [-59.36, -129.05, 24.94],
            89: [-381.07, -129.05, 24.94],
            90: [-59.36, 82.15, -24.94],
            91: [-381.07, 82.15, -24.94],
            92: [-59.36, -23.45, -24.94],
            93: [-381.07, -23.45, -24.94],
            94: [-59.36, -129.05, -24.94],
            95: [-381.07, -129.05, -24.94],
            96: [-59.36, 29.35, -74.82],
            97: [-381.07, 29.35, -74.82],
            98: [-59.36, -76.25, -74.82],
            99: [-381.07, -76.25, -74.82],
            100: [-59.36, 29.35, -124.7],
            101: [-381.07, 29.35, -124.7],
            102: [-59.36, -76.25, -124.7],
            103: [-381.07, -76.25, -124.7],
            104: [-59.36, 82.15, -174.58],
            105: [-381.07, 82.15, -174.58],
            106: [-59.36, -23.45, -174.58],
            107: [-381.07, -23.45, -174.58],
            108: [-59.36, -129.05, -174.58],
            109: [-381.07, -129.05, -174.58],
            110: [-59.36, 82.15, -224.46],
            111: [-381.07, 82.15, -224.46],
            112: [-59.36, -23.45, -224.46],
            113: [-381.07, -23.45, -224.46],
            114: [-59.36, -129.05, -224.46],
            115: [-381.07, -129.05, -224.46],
            116: [-59.36, 29.35, -274.34],
            117: [-381.07, 29.35, -274.34],
            118: [-59.36, -76.25, -274.34],
            119: [-381.07, -76.25, -274.34],
            120: [-59.36, 29.35, -324.22],
            121: [-381.07, 29.35, -324.22],
            122: [-59.36, -76.25, -324.22],
            123: [-381.07, -76.25, -324.22],
            124: [-59.36, 82.15, -374.1],
            125: [-381.07, 82.15, -374.1],
            126: [-59.36, -23.45, -374.1],
            127: [-381.07, -23.45, -374.1],
            128: [-59.36, -129.05, -374.1],
            129: [-381.07, -129.05, -374.1],
            130: [-59.36, 82.15, -423.98],
            131: [-381.07, 82.15, -423.98],
            132: [-59.36, -23.45, -423.98],
            133: [-381.07, -23.45, -423.98],
            134: [-59.36, -129.05, -423.98],
            135: [-381.07, -129.05, -423.98],
            136: [-59.36, 29.35, -473.86],
            137: [-381.07, 29.35, -473.86],
            138: [-59.36, -76.25, -473.86],
            139: [-381.07, -76.25, -473.86],
            140: [-59.36, 29.35, -523.74],
            141: [-381.07, 29.35, -523.74],
            142: [-59.36, -76.25, -523.74],
            143: [-381.07, -76.25, -523.74],
            144: [-59.36, 82.15, -573.62],
            145: [-381.07, 82.15, -573.62],
            146: [-59.36, -23.45, -573.62],
            147: [-381.07, -23.45, -573.62],
            148: [-59.36, -129.05, -573.62],
            149: [-381.07, -129.05, -573.62],
            150: [-59.36, 82.15, -623.5],
            151: [-381.07, 82.15, -623.5],
            152: [-59.36, -23.45, -623.5],
            153: [-381.07, -23.45, -623.5],
            154: [-59.36, -129.05, -623.5],
            155: [-381.07, -129.05, -623.5],
            156: [-59.36, 29.35, -673.38],
            157: [-381.07, 29.35, -673.38],
            158: [-59.36, -76.25, -673.38],
            159: [-381.07, -76.25, -673.38],
            160: [-59.36, 29.35, -723.26],
            161: [-381.07, 29.35, -723.26],
            162: [-59.36, -76.25, -723.26],
            163: [-381.07, -76.25, -723.26],
            164: [-59.36, 82.15, -773.14],
            165: [-381.07, 82.15, -773.14],
            166: [-59.36, -23.45, -773.14],
            167: [-381.07, -23.45, -773.14],
            168: [-59.36, -129.05, -773.14],
            169: [-381.07, -129.05, -773.14],
            170: [-59.36, 82.15, -823.02],
            171: [-381.07, 82.15, -823.02],
            172: [-59.36, -23.45, -823.02],
            173: [-381.07, -23.45, -823.02],
            174: [-59.36, -129.05, -823.02],
            175: [-381.07, -129.05, -823.02],
            176: [-59.36, 29.35, -872.9],
            177: [-381.07, 29.35, -872.9],
            178: [-59.36, -76.25, -872.9],
            179: [-381.07, -76.25, -872.9],
            1000: [381.07, 29.35, 872.9],
            1001: [59.36, 29.35, 872.9],
            1002: [381.07, -76.25, 872.9],
            1003: [59.36, -76.25, 872.9],
            1004: [381.07, 82.15, 823.02],
            1005: [59.36, 82.15, 823.02],
            1006: [381.07, -23.45, 823.02],
            1007: [59.36, -23.45, 823.02],
            1008: [381.07, -129.05, 823.02],
            1009: [59.36, -129.05, 823.02],
            1010: [381.07, 82.15, 773.14],
            1011: [59.36, 82.15, 773.14],
            1012: [381.07, -23.45, 773.14],
            1013: [59.36, -23.45, 773.14],
            1014: [381.07, -129.05, 773.14],
            1015: [59.36, -129.05, 773.14],
            1016: [381.07, 29.35, 723.26],
            1017: [59.36, 29.35, 723.26],
            1018: [381.07, -76.25, 723.26],
            1019: [59.36, -76.25, 723.26],
            1020: [381.07, 29.35, 673.38],
            1021: [59.36, 29.35, 673.38],
            1022: [381.07, -76.25, 673.38],
            1023: [59.36, -76.25, 673.38],
            1024: [381.07, 82.15, 623.5],
            1025: [59.36, 82.15, 623.5],
            1026: [381.07, -23.45, 623.5],
            1027: [59.36, -23.45, 623.5],
            1028: [381.07, -129.05, 623.5],
            1029: [59.36, -129.05, 623.5],
            1030: [381.07, 82.15, 573.62],
            1031: [59.36, 82.15, 573.62],
            1032: [381.07, -23.45, 573.62],
            1033: [59.36, -23.45, 573.62],
            1034: [381.07, -129.05, 573.62],
            1035: [59.36, -129.05, 573.62],
            1036: [381.07, 29.35, 523.74],
            1037: [59.36, 29.35, 523.74],
            1038: [381.07, -76.25, 523.74],
            1039: [59.36, -76.25, 523.74],
            1040: [381.07, 29.35, 473.86],
            1041: [59.36, 29.35, 473.86],
            1042: [381.07, -76.25, 473.86],
            1043: [59.36, -76.25, 473.86],
            1044: [381.07, 82.15, 423.98],
            1045: [59.36, 82.15, 423.98],
            1046: [381.07, -23.45, 423.98],
            1047: [59.36, -23.45, 423.98],
            1048: [381.07, -129.05, 423.98],
            1049: [59.36, -129.05, 423.98],
            1050: [381.07, 82.15, 374.1],
            1051: [59.36, 82.15, 374.1],
            1052: [381.07, -23.45, 374.1],
            1053: [59.36, -23.45, 374.1],
            1054: [381.07, -129.05, 374.1],
            1055: [59.36, -129.05, 374.1],
            1056: [381.07, 29.35, 324.22],
            1057: [59.36, 29.35, 324.22],
            1058: [381.07, -76.25, 324.22],
            1059: [59.36, -76.25, 324.22],
            1060: [381.07, 29.35, 274.34],
            1061: [59.36, 29.35, 274.34],
            1062: [381.07, -76.25, 274.34],
            1063: [59.36, -76.25, 274.34],
            1064: [381.07, 82.15, 224.46],
            1065: [59.36, 82.15, 224.46],
            1066: [381.07, -23.45, 224.46],
            1067: [59.36, -23.45, 224.46],
            1068: [381.07, -129.05, 224.46],
            1069: [59.36, -129.05, 224.46],
            1070: [381.07, 82.15, 174.58],
            1071: [59.36, 82.15, 174.58],
            1072: [381.07, -23.45, 174.58],
            1073: [59.36, -23.45, 174.58],
            1074: [381.07, -129.05, 174.58],
            1075: [59.36, -129.05, 174.58],
            1076: [381.07, 29.35, 124.7],
            1077: [59.36, 29.35, 124.7],
            1078: [381.07, -76.25, 124.7],
            1079: [59.36, -76.25, 124.7],
            1080: [381.07, 29.35, 74.82],
            1081: [59.36, 29.35, 74.82],
            1082: [381.07, -76.25, 74.82],
            1083: [59.36, -76.25, 74.82],
            1084: [381.07, 82.15, 24.94],
            1085: [59.36, 82.15, 24.94],
            1086: [381.07, -23.45, 24.94],
            1087: [59.36, -23.45, 24.94],
            1088: [381.07, -129.05, 24.94],
            1089: [59.36, -129.05, 24.94],
            1090: [381.07, 82.15, -24.94],
            1091: [59.36, 82.15, -24.94],
            1092: [381.07, -23.45, -24.94],
            1093: [59.36, -23.45, -24.94],
            1094: [381.07, -129.05, -24.94],
            1095: [59.36, -129.05, -24.94],
            1096: [381.07, 29.35, -74.82],
            1097: [59.36, 29.35, -74.82],
            1098: [381.07, -76.25, -74.82],
            1099: [59.36, -76.25, -74.82],
            1100: [381.07, 29.35, -124.7],
            1101: [59.36, 29.35, -124.7],
            1102: [381.07, -76.25, -124.7],
            1103: [59.36, -76.25, -124.7],
            1104: [381.07, 82.15, -174.58],
            1105: [59.36, 82.15, -174.58],
            1106: [381.07, -23.45, -174.58],
            1107: [59.36, -23.45, -174.58],
            1108: [381.07, -129.05, -174.58],
            1109: [59.36, -129.05, -174.58],
            1110: [381.07, 82.15, -224.46],
            1111: [59.36, 82.15, -224.46],
            1112: [381.07, -23.45, -224.46],
            1113: [59.36, -23.45, -224.46],
            1114: [381.07, -129.05, -224.46],
            1115: [59.36, -129.05, -224.46],
            1116: [381.07, 29.35, -274.34],
            1117: [59.36, 29.35, -274.34],
            1118: [381.07, -76.25, -274.34],
            1119: [59.36, -76.25, -274.34],
            1120: [381.07, 29.35, -324.22],
            1121: [59.36, 29.35, -324.22],
            1122: [381.07, -76.25, -324.22],
            1123: [59.36, -76.25, -324.22],
            1124: [381.07, 82.15, -374.1],
            1125: [59.36, 82.15, -374.1],
            1126: [381.07, -23.45, -374.1],
            1127: [59.36, -23.45, -374.1],
            1128: [381.07, -129.05, -374.1],
            1129: [59.36, -129.05, -374.1],
            1130: [381.07, 82.15, -423.98],
            1131: [59.36, 82.15, -423.98],
            1132: [381.07, -23.45, -423.98],
            1133: [59.36, -23.45, -423.98],
            1134: [381.07, -129.05, -423.98],
            1135: [59.36, -129.05, -423.98],
            1136: [381.07, 29.35, -473.86],
            1137: [59.36, 29.35, -473.86],
            1138: [381.07, -76.25, -473.86],
            1139: [59.36, -76.25, -473.86],
            1140: [381.07, 29.35, -523.74],
            1141: [59.36, 29.35, -523.74],
            1142: [381.07, -76.25, -523.74],
            1143: [59.36, -76.25, -523.74],
            1144: [381.07, 82.15, -573.62],
            1145: [59.36, 82.15, -573.62],
            1146: [381.07, -23.45, -573.62],
            1147: [59.36, -23.45, -573.62],
            1148: [381.07, -129.05, -573.62],
            1149: [59.36, -129.05, -573.62],
            1150: [381.07, 82.15, -623.5],
            1151: [59.36, 82.15, -623.5],
            1152: [381.07, -23.45, -623.5],
            1153: [59.36, -23.45, -623.5],
            1154: [381.07, -129.05, -623.5],
            1155: [59.36, -129.05, -623.5],
            1156: [381.07, 29.35, -673.38],
            1157: [59.36, 29.35, -673.38],
            1158: [381.07, -76.25, -673.38],
            1159: [59.36, -76.25, -673.38],
            1160: [381.07, 29.35, -723.26],
            1161: [59.36, 29.35, -723.26],
            1162: [381.07, -76.25, -723.26],
            1163: [59.36, -76.25, -723.26],
            1164: [381.07, 82.15, -773.14],
            1165: [59.36, 82.15, -773.14],
            1166: [381.07, -23.45, -773.14],
            1167: [59.36, -23.45, -773.14],
            1168: [381.07, -129.05, -773.14],
            1169: [59.36, -129.05, -773.14],
            1170: [381.07, 82.15, -823.02],
            1171: [59.36, 82.15, -823.02],
            1172: [381.07, -23.45, -823.02],
            1173: [59.36, -23.45, -823.02],
            1174: [381.07, -129.05, -823.02],
            1175: [59.36, -129.05, -823.02],
            1176: [381.07, 29.35, -872.9],
            1177: [59.36, 29.35, -872.9],
            1178: [381.07, -76.25, -872.9],
            1179: [59.36, -76.25, -872.9]            
        }, 360);
    }

}

// --------------------------------------------------------
class DUNE10ktWorkspace extends Experiment {

    constructor() {
        super('dune10kt_workspace');
        this.updateTPCLocation([
            [-363.376, -2.53305, -607.829, 0, -0.87625, 231.514],
            [2.53305, 363.376, -607.829, 0, -0.87625, 231.514],
            [-363.376, -2.53305, 0, 607.829, -0.87625, 231.514],
            [2.53305, 363.376, 0, 607.829, -0.87625, 231.514],
            [-363.376, -2.53305, -607.829, 0, 231.514, 463.904],
            [2.53305, 363.376, -607.829, 0, 231.514, 463.904],
            [-363.376, -2.53305, 0, 607.829, 231.514, 463.904],
            [2.53305, 363.376, 0, 607.829, 231.514, 463.904]
        ]);
        this.tpc.viewAngle = [-35.7, 35.7, 0];
    }

}

// --------------------------------------------------------
class DUNE35t extends Experiment {

    constructor() {
        super('dune35t');
        this.updateTPCLocation([
            [-34.4523, -7.27732, -84.4008, 115.087, -2.03813, 51.4085],
            [-0.747073, 221.728, -84.4008, 115.087, -2.03813, 51.4085],
            [-34.4523, -7.27732, -84.4852, 0.015, 51.4085, 103.332],
            [-0.747073, 221.728, -84.4852, 0.015, 51.4085, 103.332],
            [-34.4523, -7.27732, 0, 115.087, 51.4085, 103.332],
            [-0.747073, 221.728, 0, 115.087, 51.4085, 103.332],
            [-34.4523, -7.27732, -84.4008, 115.087, 103.332, 156.779],
            [-0.747073, 221.728, -84.4008, 115.087, 103.332, 156.779]
        ]);
        this.tpc.viewAngle = [-45, 45, 0];
    }

}

// --------------------------------------------------------
class ProtoDUNEVDTest extends Experiment {

    constructor() {
        super('protodunevd-test');
        this.updateTPCLocation([
            [-602, 542, -600, 600, -421, 720],
            [-315, 313, -342, 342, -5, 304]
        ]);
        this.tpc.viewAngle = [-45, 45, 0];
        this.camera.depth = 4000;

    }

}

// --------------------------------------------------------

function createExperiment(name) {
    let exp = null;
    if (name == 'uboone') { exp = new MicroBooNE(); }
    else if (name == 'protodune') { exp = new ProtoDUNE(); }
    else if (name == 'icarus') { exp = new ICARUS(); }
    else if (name == 'dune10kt_workspace') { exp = new DUNE10ktWorkspace(); }
    else if (name == 'dune35t') { exp = new DUNE35t(); }
    else if (name == 'protodunevd-test') { exp = new ProtoDUNEVDTest(); }
    else { exp = new MicroBooNE(); } // default
    return exp;
}

export { createExperiment }
